{% extends "index.html" %}

{% block content %}
<meta http-equiv="refresh" content="10"> 

<div class="container mt-4">
    <h1 class="display-4 fw-bold text-primary text-center">Now Serving</h1>
    {% if now_serving %}
        <div class="display-1 fw-bold text-success text-center">{{ now_serving }}</div>
    {% else %}
        <div class="h3 text-muted text-center">No orders in queue</div>
    {% endif %}

    <hr class="my-4">

    <div class="row">
        <!-- Queue Line -->
        <div class="col-md-6">
            <div class="border rounded p-3 h-100">
                <h5 class="fw-bold text-center">Queue Line</h5>
                <div class="d-flex flex-column gap-3 mt-3">
                    {% if queue_orders %}
                        {% for order in queue_orders %}
                            <div class="border rounded p-4 text-center 
                                {% if order.reference_number == user_ref_num %} bg-primary text-white {% else %} bg-light {% endif %}">
                                <span class="fw-bold">{{ order.reference_number }}</span>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">No orders in queue.</p>
                    {% endif %}
                </div>
            </div>
        </div>

        <!-- Skipped Queue -->
        <div class="col-md-6">
            <div class="border rounded p-3 h-100">
                <h5 class="fw-bold text-center">Skipped Queue</h5>
                <div class="d-flex flex-column gap-3 mt-3">
                    {% if skip_orders %}
                        {% for order in skip_orders %}
                            <div class="border rounded p-4 text-center 
                                {% if order.reference_number == user_ref_num %} bg-primary text-white {% else %} bg-warning {% endif %}">
                                <span class="fw-bold">{{ order.reference_number }}</span>
                            </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">No skipped orders.</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
