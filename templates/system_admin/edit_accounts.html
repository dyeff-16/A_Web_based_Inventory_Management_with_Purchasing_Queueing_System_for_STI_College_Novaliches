{%extends 'system_admin.html'%}
{% block content %}
{% if account %}
<div class="d-flex justify-content-center align-items-center" style="margin-top: 80px;">
  <div class="container bg-body-tertiary p-4 my-4 rounded shadow-sm" style="width: 100%; max-width: 600px; border-color: #000 !important;">
    <h2 class="mb-4 text-center">Edit Account</h2>

    <div class="mb-3">
      <label class="fw-bold">Email:</label>
      <p>{{ account.email }}</p>
    </div>

<form method="POST" action="{{ url_for('system_admin.edit_account', account_id=account._id) }}">
      <!-- Roles -->
      <div class="mb-4">
        <label class="fw-bold d-block mb-2">Select Role:</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="role" id="roleAdmin" value="admin" required>
          <label class="form-check-label" for="roleAdmin">Admin (Full access to all inventory features)</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="role" id="roleStaff" value="Staff" required>
          <label class="form-check-label" for="roleStaff">Staff (Limited access for assisting tasks)</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="role" id="roleIntern" value="Intern" required>
          <label class="form-check-label" for="roleIntern">Intern (Limited access)</label>
        </div>
      </div>

      <!-- Permissions -->
      <div class="mb-4">
        <label class="fw-bold d-block mb-2">Permissions:</label>

        <!-- Orders -->
        <p class="fw-semibold fst-italic">Orders</p>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="view_orders" id="permViewOrders">
          <label class="form-check-label" for="permViewOrders">View orders.</label>
        </div>

        <!-- Products -->
        <p class="fw-semibold fst-italic">Products</p>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="view_products" id="permViewProducts">
          <label class="form-check-label" for="permViewProducts">View products.</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="add_products" id="permAddProducts">
          <label class="form-check-label" for="permAddProducts">Add products.</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="update_products" id="permUpdateProducts">
          <label class="form-check-label" for="permUpdateProducts">Update products.</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="restock_products" id="permRestock">
          <label class="form-check-label" for="permRestock">Restock products.</label>
        </div>
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="deduct_products" id="permDeduct">
          <label class="form-check-label" for="permDeduct">Deduct products.</label>
        </div>

        <!-- Reports -->
        <p class="fw-semibold fst-italic">Report</p>
        {% for i in range(1, 6) %}
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="report_{{ i }}" id="permReport{{ i }}">
          <label class="form-check-label" for="permReport{{ i }}">For reports.</label>
        </div>
        {% endfor %}

        <!-- History -->
        <p class="fw-semibold fst-italic">History</p>
        {% for i in range(1, 5) %}
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="history_{{ i }}" id="permHistory{{ i }}">
          <label class="form-check-label" for="permHistory{{ i }}">For history.</label>
        </div>
        {% endfor %}

        <!-- Queue -->
        <p class="fw-semibold fst-italic">Queue</p>
        {% for i in range(1, 5) %}
        <div class="form-check mb-2">
          <input class="form-check-input" type="checkbox" name="permissions" value="queue_{{ i }}" id="permQueue{{ i }}">
          <label class="form-check-label" for="permQueue{{ i }}">For queue.</label>
        </div>
        {% endfor %}
      </div>

      <!-- Status -->
      <div class="mb-4">
        <label class="fw-bold d-block mb-2">Account Status:</label>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="status" id="statusActive" value="active" required>
          <label class="form-check-label" for="statusActive">Activate – account activate.</label>
        </div>
        <div class="form-check">
          <input class="form-check-input" type="radio" name="status" id="statusInactive" value="inactive" required>
          <label class="form-check-label" for="statusInactive">Deactivate – account deactivate.</label>
        </div>
      </div>

      <button type="submit" class="btn btn-primary w-100">Save Changes</button>
    </form>
  </div>
</div>
{% endif %}
{% endblock %}
