  {% extends "admin.html" %}
  {% block content %}
  <style>
    .tab-link {
      padding: 0.5rem 1rem;
      color: #6c757d;
      font-weight: 500;
      border-bottom: 2px solid transparent;
      transition: all 0.3s;
    }

    .tab-link.active {
      color: #0d6efd;
      border-bottom-color: #0d6efd;
    }

    .tab-link:hover {
      color: #0d6efd;
    }

    .page-card {
      background: white;
      border-radius: 0.5rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
  </style>
  <!-- Main Content -->
  <div class="container-fluid p-4 bg-light min-vh-100">
    <div class="page-header d-flex justify-content-between align-items-center border-bottom border-secondary mb-4 pb-2">
      <h2 class="fw-bold text-primary mb-3">Orders</h2>
    </div>

<div class="container-fluid mb-3">
  <div class="d-flex flex-wrap align-items-center gap-2">
    
    <div class="input-group" style="max-width: 300px;">
      <input type="text" id="searchInput" name="search" placeholder="Search here" class="form-control">
      <button class="btn btn-outline-secondary" type="button" onclick="searchBtn()" id="searchButton">
        <i class="bi bi-search"></i>
      </button>
    </div>

    <select class="form-select w-auto" aria-label="Filter orders" name="filter_category" id="filter_category">
      <option value="name">Name</option>
      <option value="email">Email</option>
      <option value="reference_number">Reference Number</option>
    </select>

    <!-- This div will push itself to the right -->
    <div class="ms-auto">
      <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#releaseModal1">
        <i class="bi bi-box-arrow-right me-1"></i>Release
      </button>
    </div>

  </div>
</div>



    <!-- Tabs -->
    <div class="d-flex align-items-center gap-3 mb-4 border-bottom">
      <a id="Orders" class="tab-link  text-decoration-none">Orders</a>
      <a id="Paid" class="tab-link text-decoration-none">Paid</a>
      <a id="toRelease" class="tab-link text-decoration-none">To Release</a>
      <a id="Claimed" class="tab-link text-decoration-none">Claim</a>
      <a id="orderHistory" class="tab-link text-decoration-none">Order History</a>
    </div>

    <!-- Table -->
    <div class="page-card p-4">
      <div class="table-responsive">
        <table class="table table-hover align-middle mb-0">
          <thead class="table-dark text-center">
            <tr>
              <th>Reference ID</th>
              <th>Name</th>
              <th>Date</th>
              <th id="actionHead">Action</th>
            </tr>
          </thead>
          <tbody class="text-center" id="tbody">
            
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- RELEASE MODAL -->
  <div class="modal fade" id="releaseModal1" tabindex="-1" aria-labelledby="releaseModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="releaseModalLabel1">Release Order</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label class="form-label">Reference Number:</label>
              <input type="text" id="referenceNumber" class="form-control" placeholder="Enter reference number" required>
            </div>
            <div class="mb-3">
              <label class="form-label">Invoice Number:</label>
              <input type="text" id="invoiceNumber" class="form-control" placeholder="Enter invoice number" required>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold">Release Date</label>
              <input type="date" id="releaseDate" class="form-control" required>
            </div>
            <div class="d-flex justify-content-end gap-2">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" class="btn btn-primary" id="btnRelease" onclick="orderRelease()"><i class="bi bi-check-circle me-1"></i>Submit</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- RECEIPT MODAL -->
  <div class="modal fade" id="receiptModal1" tabindex="-1" aria-labelledby="receiptModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="receiptModalLabel1">Receipt</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="text-center mb-3">
 <img id="receiptImage"
         src="https://placehold.co/400x600/e0e0e0/666666?text=Loading+Receipt"
         class="img-fluid rounded"
         alt="Receipt">

          </div>
          <form>
            <div class="mb-3">
              <label for="ref_input_1" class="form-label">Enter Invoice Number:</label>
              <input type="text" id="invoiceNumber" class="form-control" placeholder="">
            </div>
            <div class="d-flex justify-content-end gap-2">
              <button type="button" class="btn btn-danger" id="openDecline1">
                <i class="bi bi-x-circle me-1"></i>Decline
              </button>
              <button type="submit" id="indexData" class="btn btn-success" onclick="submitStatus()">
                <i class="bi bi-check-circle me-1"></i>Confirm
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- DECLINE MODAL -->
  <div class="modal fade" id="declineModal1" tabindex="-1" aria-labelledby="declineModalLabel1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h5 class="modal-title" id="declineModalLabel1">Decline Order</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <form>
            <div class="mb-3">
              <label class="form-label fw-semibold">Reason for Declining:</label>
              <textarea class="form-control" rows="4" id="reason_input" placeholder="Please provide a reason..." required></textarea>
            </div>
            <div class="d-flex justify-content-end gap-2">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
              <button type="submit" id="btnDeclined" class="btn btn-danger" onclick="setDeclined()">
                <i class="bi bi-x-circle me-1"></i>Confirm Decline
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>


  <script src="/static/orders_admin.js"></script>

  {% endblock %}